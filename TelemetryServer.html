<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: TelemetryServer</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: TelemetryServer</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>TelemetryServer<span class="signature">(logger<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h2>
        
            <div class="class-description">Creates a new telemetry server.
Telemetry probes are not available until <a href="TelemetryServer.html#start"><code>TelemetryServer#start</code></a> is called.</div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    
    <h4 class="name" id="TelemetryServer"><span class="type-signature"></span>new TelemetryServer<span class="signature">(logger<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>logger</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Optional logger to use in place of the default console logger.
The object should have a key 'info' which is a function that takes a single parameter containing the log message.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="TelemetryServer.js.html">TelemetryServer.js</a>, <a href="TelemetryServer.js.html#line10">line 10</a>
    </li></ul></dd>
    

    

    

    
</dl>




















    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="getApp"><span class="type-signature"></span>getApp<span class="signature">()</span><span class="type-signature"> &rarr; {Express}</span></h4>
    

    



<div class="description">
    Returns the underlying <a href="https://github.com/expressjs/express">Express</a> object used by the telemetry server.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="TelemetryServer.js.html">TelemetryServer.js</a>, <a href="TelemetryServer.js.html#line67">line 67</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Express</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="signalNotReady"><span class="type-signature"></span>signalNotReady<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Calling this indicates the application is not available for processing traffic.
After calling this the readiness probe will return status code 500 (stop traffic).
Note this will *not* cause the application pod to be restarted.
Traffic can be resumed by calling <a href="TelemetryServer.html#signalReady"><code>TelemetryServer#signalReady</code></a>.
Metrics will still be available.
Tip: Call this as the first step of your application shutdown code, or if your service dependencies
become unavailable.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="TelemetryServer.js.html">TelemetryServer.js</a>, <a href="TelemetryServer.js.html#line46">line 46</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="signalReady"><span class="type-signature"></span>signalReady<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Calling this indicates the application is available for processing traffic.
After calling this the readiness probe will return status code 200 (send traffic).
Traffic can be stopped by calling <a href="TelemetryServer.html#signalNotReady"><code>TelemetryServer#signalNotReady</code></a>.
Metrics will still be available.
Tip: Call this as the last step of your application startup code, or if unavailable service dependencies
become available again.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="TelemetryServer.js.html">TelemetryServer.js</a>, <a href="TelemetryServer.js.html#line33">line 33</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="signalStopped"><span class="type-signature"></span>signalStopped<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Calling this indicates the application is no longer in a useful state.
After calling this the liveness probe will return status code 500 (terminate pod)
and the readiness probe will return 500 (stop traffic).
Note this will cause the application pod to be terminated.
Metrics will still be available until termination.
Tip: Call this just before <a href="TelemetryServer.html#stop"><code>TelemetryServer#stop</code></a>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="TelemetryServer.js.html">TelemetryServer.js</a>, <a href="TelemetryServer.js.html#line58">line 58</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="start"><span class="type-signature"></span>start<span class="signature">(telemetryPort)</span><span class="type-signature"> &rarr; {<a href="TelemetryServer.html">TelemetryServer</a>}</span></h4>
    

    



<div class="description">
    Makes the telemetry probes available on a network port.
After calling this the liveness probe will return 200 (alive) and the readiness probe will return 500 (stop traffic).
The metrics probe will return all available metrics.
Tip: Call this as soon as possible in your application startup code.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>telemetryPort</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last">the network port the probes should be available on.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="TelemetryServer.js.html">TelemetryServer.js</a>, <a href="TelemetryServer.js.html#line79">line 79</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Returns 'this' for convenience in calling other methods.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="TelemetryServer.html">TelemetryServer</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="stop"><span class="type-signature"></span>stop<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Withdraws the telemetry probes.
Tip: Call this as the last step in the shutdown code of your application.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="TelemetryServer.js.html">TelemetryServer.js</a>, <a href="TelemetryServer.js.html#line95">line 95</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="TelemetryServer.html">TelemetryServer</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Thu Apr 07 2022 13:53:07 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>